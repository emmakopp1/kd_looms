library(tidyverse)
library(readxl)
library(phangorn)
library(TreeTools)
library(here)
here()
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
column_to_rownames("Character")
simple <- colnames(kd_xl) |>
str_subset("^FM|HP|RP|RT|RW|MH")
complex <- colnames(kd_xl) |>
str_subset("^PS")
kd_looms_dt_all <- kd_xl |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_all, "kd_looms_dt_all.nex", format = "nexus")
kd_looms_dt_basic <- kd_xl |>
select(!any_of(c(simple, complex))) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_basic, "kd_looms_dt_basic.nex", format = "nexus")
kd_looms_dt_complex <- kd_xl |>
select(all_of(complex)) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_complex, "kd_looms_dt_complex.nex", format = "nexus")
library(tidyverse)
library(readxl)
library(phangorn)
library(TreeTools)
library(here)
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
column_to_rownames("Character")
simple <- colnames(kd_xl) |>
str_subset("^FM|HP|RP|RT|RW|MH")
complex <- colnames(kd_xl) |>
str_subset("^PS")
kd_looms_dt_all <- kd_xl |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_all, "kd_looms_dt_all.nex", format = "nexus")
kd_looms_dt_basic <- kd_xl |>
select(!any_of(c(simple, complex))) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_basic, "kd_looms_dt_basic.nex", format = "nexus")
kd_looms_dt_complex <- kd_xl |>
select(all_of(complex)) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_complex, "kd_looms_dt_complex.nex", format = "nexus")
ff = str(11011001110000000000000000000000000000000000000000000000000111000101010001010001)
ff = as.character("11011001110000000000000000000000000000000000000000000000000111000101010001010001")
ff
length(ff)
nchar(ff)
dd = "0001???00000000000000000000000000000001?00000000000111000000?000000000001?00000"
nchar(dd)
80+79
View(kd_looms_dt_all)
typeof(kd_looms_dt_all)
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
column_to_rownames("Character")
simple <- colnames(kd_xl) |>
str_subset("^FM|HP|RP|RT|RW|MH")|>
str_replace_all(" ", "_")|>
complex <- colnames(kd_xl) |>
str_subset("^PS")
simple <- colnames(kd_xl) |>
str_subset("^FM|HP|RP|RT|RW|MH")|>
str_replace_all(" ", "_")
complex <- colnames(kd_xl) |>
str_subset("^PS")
kd_looms_dt_all <- kd_xl |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_all, "kd_looms_dt_all.nex", format = "nexus")
kd_looms_dt_basic <- kd_xl |>
select(!any_of(c(simple, complex))) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_basic, "kd_looms_dt_basic.nex", format = "nexus")
kd_looms_dt_complex <- kd_xl |>
select(all_of(complex)) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_complex, "kd_looms_dt_complex.nex", format = "nexus")
simple
complex
kd_xl
library(tidyverse)
library(readxl)
library(phangorn)
library(TreeTools)
library(here)
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
rename_with(~ str_replace_all(., " ", "_"), everything()) |>
column_to_rownames("Character")
kd_xl
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
column_to_rownames("Character") |>
rename_with(~ str_replace_all(., " ", "_"), everything())
kd_xl
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
column_to_rownames("Character")
kd_xl <- kd_xl |>
rename_with(~ str_replace_all(., " ", "_"), everything())
kd_xl
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
mutate(Character = str_replace_all(Character, " ", "_"))|>
column_to_rownames("Character")
kd_xl
library(tidyverse)
library(readxl)
library(phangorn)
library(TreeTools)
library(here)
kd_xl <- read_excel("Kra-DaiLooms28master-2.xlsx", sheet = "Digit", skip = 1) |>
filter(Character != "Level") |>
select(!starts_with("...")) |>
mutate(Character = str_replace_all(Character, " ", "_"))|>
column_to_rownames("Character")
simple <- colnames(kd_xl) |>
str_subset("^FM|HP|RP|RT|RW|MH")|>
complex <- colnames(kd_xl) |>
str_subset("^PS")
kd_looms_dt_all <- kd_xl |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_all, "kd_looms_dt_all.nex", format = "nexus")
kd_looms_dt_basic <- kd_xl |>
select(!any_of(c(simple, complex))) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_basic, "kd_looms_dt_basic.nex", format = "nexus")
kd_looms_dt_complex <- kd_xl |>
select(all_of(complex)) |>
as.matrix() |>
MatrixToPhyDat()
write.phyDat(kd_looms_dt_complex, "kd_looms_dt_complex.nex", format = "nexus")
